Deleting secets through terraform doesn't immediately delete it, use the below command to delete immediately

aws secretsmanager delete-secret \
  --secret-id app/notes-app/database \
  --force-delete-without-recovery

docker compose build --no-cache
docker compose up --force-recreate
docker compose down --rmi all --volumes --remove-orphans

docker compose build --no-cache: Explicitly rebuilds all images defined in your docker-compose.yml without using the cache.
docker compose up: Starts the services using the newly built images. You should add --force-recreate to ensure the containers are restarted with the fresh images.

docker rmi -f $(docker images -aq)

curl -H "Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6Ild4VTAtQnVONjQybHJvQ3BFd0xYViJ9.eyJlbWFpbCI6InZpYmEuMjM5NEBnbWFpbC5jb20iLCJuYW1lIjoidmliYS4yMzk0QGdtYWlsLmNvbSIsImlzcyI6Imh0dHBzOi8vbG9naW4ubm90ZXMtYXBwLXNlcnZlcmxlc3MudmliYWthci5jb20vIiwic3ViIjoiYXV0aDB8NjhmYmY1Yjg2OGVkOGFlMTQ2YWIwYmFjIiwiYXVkIjpbImh0dHBzOi8vbm90ZXMtYXBpLXNlcnZlcmxlc3MuY29tIiwiaHR0cHM6Ly9kZXYtdjdwb3h1ZGQudXMuYXV0aDAuY29tL3VzZXJpbmZvIl0sImlhdCI6MTc2MTUxNjcyNCwiZXhwIjoxNzYxNTUyNzI0LCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwiYXpwIjoiSWFDR0JtMm1IVDJKRGNkNTQxcEFHMlFjU1BwbW1zcGEifQ.RW-kyQaJKM0SZitJ4oFn89w-MwviErKICsdieJt9lP8Sn43PtJnWQVaXaNp7gxumM7-HXQjWj8AA8O7dD6IyIJO6_K76PMFPbgP995kRnJDf4OiF_tg9F70fuyW47Qhoa1uHYyFW3T0H60IS1tJ440CUcijw2SedDPkp7zvUVXC15Rdxpo5xL39B0KT0erui_GLFNzmHvO0HT-pUJLQg905PU9XR82LecYmZb06l64h7_ZRx2fFEvhVfVLJNHXe-rqilsok6pI232KcPCwsZMdPmyCV2cBLRQehjYaVQxxYGa2irvIZeTdE_jzHAfDpKbtv-r19WmQeGAYrTkU384g" \
     https://oedk5k1ewj.execute-api.eu-west-2.amazonaws.com/api/v1/notes